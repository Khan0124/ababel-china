# ูุธุงู ูุญุงุณุจุฉ ููุชุจ ุงูุตูู - China Office Accounting System

## ูุธุฑุฉ ุนุงูุฉ | Overview

ูุธุงู ูุญุงุณุจุฉ ุดุงูู ูุฅุฏุงุฑุฉ ุงูุนูููุงุช ุงููุงููุฉ ูุงูุชุฌุงุฑูุฉ ูููุชุจ ุงูุตููุ ูุฏุนู ุงูุนููุงุช ุงููุชุนุฏุฏุฉ ููููุฑ ุฅุฏุงุฑุฉ ูุชูุงููุฉ ููุนููุงุก ูุงููุนุงููุงุช ุงููุงููุฉ ูุงูุฎุฒููุฉ ูุน ูุฒุงููุฉ ูุน ุงููุธุงู ุงูุฑุฆูุณู ูู ุจูุฑุชุณูุฏุงู.

A comprehensive accounting system for managing financial and commercial operations for the China Office, supporting multiple currencies and providing integrated management of clients, financial transactions, and cashbox operations with synchronization to the main system in Port Sudan.

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ | Key Features

### ๐ ุฅุฏุงุฑุฉ ุงูุนููุงุก | Client Management
- ุชุณุฌูู ูุฅุฏุงุฑุฉ ุจูุงูุงุช ุงูุนููุงุก ุจุงููุบุชูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- ุชุชุจุน ุฃุฑุตุฏุฉ ุงูุนููุงุก ุจุงูุนููุงุช ุงููุฎุชููุฉ (RMB, USD, SDG, AED)
- ูุดูู ุญุณุงุจุงุช ุชูุตูููุฉ ููุนููุงุก ูุน ุชุญููู ุงููุฎุงุทุฑ
- ูุธุงู ุชุฑููู ุชููุงุฆู ููุนููุงุก

### ๐ฐ ุฅุฏุงุฑุฉ ุงููุนุงููุงุช ุงููุงููุฉ | Financial Transactions
- ุฅูุดุงุก ูุฅุฏุงุฑุฉ ุงููุนุงููุงุช ุงููุงููุฉ ุงููุฎุชููุฉ
- ุฏุนู ุงูุนููุงุช ุงููุชุนุฏุฏุฉ (ููุงู ุตูููุ ุฏููุงุฑ ุฃูุฑูููุ ุฌููู ุณูุฏุงููุ ุฏุฑูู ุฅูุงุฑุงุชู)
- ูุธุงู ุงูุฏูุนุงุช ุงูุฌุฒุฆูุฉ ุงููุชูุฏู
- ุชุชุจุน ุญุงูุฉ ุงููุนุงููุงุช ูุงูููุงููุงุช
- ุฑุจุท ุงููุนุงููุงุช ุจุงูุดุญูุงุช ูุงูููุงุชูุฑ

### ๐ฆ ุฅุฏุงุฑุฉ ุงูุฎุฒููุฉ | Cashbox Management
- ุชุชุจุน ุฃุฑุตุฏุฉ ุงูุฎุฒููุฉ ุจุงูุนููุงุช ุงููุฎุชููุฉ
- ุญุฑูุงุช ุงูุฎุฒููุฉ (ุฅูุฏุงุน/ุณุญุจ) ูุน ุงูุชุฏููู
- ุชุญููู ุงูุนููุงุช ูุน ุชุชุจุน ุฃุณุนุงุฑ ุงูุตุฑู ุงูุญูุฉ
- ุชูุงุฑูุฑ ููููุฉ ูุดูุฑูุฉ ููุฎุฒููุฉ

### ๐ข ุฅุฏุงุฑุฉ ุงูุดุญูุงุช | Loading Management
- ุชุณุฌูู ูุฅุฏุงุฑุฉ ุจูุงูุงุช ุงูุดุญูุงุช
- ุฅุตุฏุงุฑ ุจูููุตุฉ ุงูุดุญู (Bill of Loading)
- ุชุชุจุน ุญุงูุฉ ุงูุดุญูุงุช ูููุงุนูุฏ ุงูุชุณููู
- ูุฒุงููุฉ ุชููุงุฆูุฉ ูุน ุงููุธุงู ุงูุฑุฆูุณู ูู ุจูุฑุชุณูุฏุงู

### ๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช | Reports & Analytics
- ุชูุงุฑูุฑ ููููุฉ ูุดูุฑูุฉ ุดุงููุฉ
- ุชุญููู ุงูุฃุฏุงุก ุงููุงูู ุงููุชูุฏู
- ูุดูู ุญุณุงุจุงุช ุงูุนููุงุก ุงูุชูุตูููุฉ
- ุชูุงุฑูุฑ ุงูุฎุฒููุฉ ูุงูุณูููุฉ
- ุฅุญุตุงุฆูุงุช ุงููุนุงููุงุช ุบูุฑ ุงููุฏููุนุฉ ูุชุญููู ุงููุฎุงุทุฑ

### ๐ ูุฒุงููุฉ ุงูุจูุงูุงุช | Data Synchronization
- ูุฒุงููุฉ ุชููุงุฆูุฉ ูุน ุงููุธุงู ุงูุฑุฆูุณู ูู ุจูุฑุชุณูุฏุงู
- ูุธุงู webhook ููุชุญุฏูุซุงุช ุงูููุฑูุฉ
- ุชุชุจุน ุญุงูุฉ ุงููุฒุงููุฉ ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุงูุชููุงุฆูุฉ ููุนูููุงุช ุงููุงุดูุฉ

### ๐ฅ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู | User Management
- ูุธุงู ุตูุงุญูุงุช ูุชุฏุฑุฌ (Admin, Manager, Accountant, User)
- ุชุชุจุน ูุดุงุท ุงููุณุชุฎุฏููู ูุณุฌู ุงูุนูููุงุช
- ุฅุฏุงุฑุฉ ูููุงุช ุงููุฑูุฑ ูุงูุฃูุงู ุงููุชูุฏู
- ุณุฌู ุงูุชุฏููู ุงูุดุงูู ููุนูููุงุช

### ๐ง ูุฑุงูุจุฉ ุงููุธุงู | System Monitoring
- ูุฑุงูุจุฉ ุฃุฏุงุก ุงููุธุงู ูู ุงูููุช ุงููุนูู
- ุณุฌูุงุช ุงูุฃุฎุทุงุก ูุงูุชูุจููุงุช ุงูุชููุงุฆูุฉ
- ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ ูุฌุฏููุฉ
- ุชุญุณูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูููุฑุณุฉ

### ๐ฑ ุฅุฏุงุฑุฉ ุฃุณุนุงุฑ ุงูุตุฑู | Exchange Rate Management
- ุชุญุฏูุซ ุฃุณุนุงุฑ ุงูุตุฑู ุงูุชููุงุฆู ูุงูุญูููู
- ุญุงุณุจุฉ ุชุญููู ุงูุนููุงุช ุงููุชูุฏูุฉ
- ุชุชุจุน ุชุงุฑูุฎ ุฃุณุนุงุฑ ุงูุตุฑู
- ุชูุงุฑูุฑ ุฑุจุญูุฉ ุงูุตุฑู

## ูุชุทูุจุงุช ุงููุธุงู | System Requirements

### ุฎุงุฏู ุงูููุจ | Web Server
- **PHP**: 8.3+
- **MySQL/MariaDB**: 5.7+ / 10.3+
- **Nginx/Apache**: ุฃู ุฅุตุฏุงุฑ ุญุฏูุซ
- **Extensions**: PDO, mbstring, JSON, curl

### ุงูููุชุจุงุช ุงููุทููุจุฉ | Required Libraries
```json
{
    "phpmailer/phpmailer": "^6.8",
    "mpdf/mpdf": "^8.1",
    "phpoffice/phpspreadsheet": "^1.28"
}
```

### ูุชุทูุจุงุช ุงูุฃุฏุงุก | Performance Requirements
- **ุฐุงูุฑุฉ**: 512MB ูุญุฏ ุฃุฏููุ 1GB ูุณุชุญุณู
- **ูุณุงุญุฉ ุงููุฑุต**: 5GB ูุญุฏ ุฃุฏูู ููุชุดุบูู ูุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
- **ุงุชุตุงู ุงูุฅูุชุฑูุช**: ูุทููุจ ูููุฒุงููุฉ ูุน ุจูุฑุชุณูุฏุงู

## ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ | Installation & Setup

### 1. ุชุญููู ุงููุดุฑูุน | Download Project
```bash
git clone https://github.com/ababel/china-office-system.git
cd china-office-system
```

### 2. ุชุซุจูุช ุงูููุชุจุงุช | Install Dependencies
```bash
composer install
```

### 3. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช | Database Setup
```bash
# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -u root -p -e "CREATE DATABASE china_ababel CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# ุงุณุชูุฑุงุฏ ุงููููู ุงูุฃุณุงุณู
mysql -u root -p china_ababel < china_ababel.sql

# ุชุทุจูู ุงูุชุญุฏูุซุงุช ุงูุฃูููุฉ ูุงูุฃุฏุงุก
mysql -u root -p china_ababel < migrations/2025_08_16_security_and_optimization.sql
```

### 4. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ | Environment Configuration
```bash
# ุฅูุดุงุก ููู ุงูุจูุฆุฉ
cp .env.example .env

# ุชุญุฑูุฑ ุงูุฅุนุฏุงุฏุงุช
nano .env
```

**ุฅุนุฏุงุฏุงุช ูุทููุจุฉ ูู .env:**
```env
# ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
DB_HOST=localhost
DB_DATABASE=china_ababel
DB_USERNAME=your_username
DB_PASSWORD=your_secure_password

# ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
APP_NAME="China Office Accounting System"
APP_URL=https://china.ababel.net
APP_TIMEZONE=Asia/Shanghai
DEFAULT_CURRENCY=RMB

# ุฅุนุฏุงุฏุงุช ุงููุฒุงููุฉ ูุน ุจูุฑุชุณูุฏุงู
PORT_SUDAN_API_URL=https://ababel.net/app/api/china_sync.php
PORT_SUDAN_API_KEY=your_api_key
WEBHOOK_API_KEY=your_webhook_key
```

### 5. ุฅุนุฏุงุฏ ุงูุตูุงุญูุงุช | Set Permissions
```bash
chmod -R 755 storage/ cache/ logs/
chown -R www-data:www-data storage/ cache/ logs/
```

### 6. ุฅูุดุงุก ูุณุชุฎุฏู ุฅุฏุงุฑู | Create Admin User
```bash
php create-admin.php
```

### 7. ุฅุนุฏุงุฏ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุชููุงุฆูุฉ | Setup Automatic Backups
```bash
# ุชุซุจูุช ููุงู cron
cd maintenance/
chmod +x install_crontab.sh
./install_crontab.sh
```

## ุงูุจููุฉ ุงููุนูุงุฑูุฉ | System Architecture

### ูููุฐุฌ MVC | MVC Pattern
```
app/
โโโ Controllers/         # ูุญุฏุงุช ุงูุชุญูู
โ   โโโ Api/            # ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช
โ   โโโ AuthController.php
โ   โโโ ClientController.php
โ   โโโ TransactionController.php
โ   โโโ CashboxController.php
โ   โโโ LoadingController.php
โ   โโโ ReportController.php
โ   โโโ SystemMonitorController.php
โโโ Core/               # ุงูููุงุฉ ุงูุฃุณุงุณูุฉ
โ   โโโ Controller.php  # ุงููุญุฏุฉ ุงูุฃุณุงุณูุฉ ููุชุญูู
โ   โโโ Model.php      # ุงููููุฐุฌ ุงูุฃุณุงุณู
โ   โโโ Router.php     # ููุฌู ุงูุทูุจุงุช
โ   โโโ Database.php   # ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ Cache.php      # ูุธุงู ุงูุชุฎุฒูู ุงููุคูุช
โ   โโโ Security/      # ุฃูุงู ุงููุธุงู
โโโ Models/             # ููุงุฐุฌ ุงูุจูุงูุงุช
โ   โโโ Client.php     # ูููุฐุฌ ุงูุนููุงุก
โ   โโโ Transaction.php # ูููุฐุฌ ุงููุนุงููุงุช
โ   โโโ Cashbox.php    # ูููุฐุฌ ุงูุฎุฒููุฉ
โ   โโโ Loading.php    # ูููุฐุฌ ุงูุดุญูุงุช
โโโ Services/           # ุงูุฎุฏูุงุช ุงููุณุงุนุฏุฉ
โ   โโโ SyncService.php     # ุฎุฏูุฉ ุงููุฒุงููุฉ
โ   โโโ PaymentService.php  # ุฎุฏูุฉ ุงููุฏููุนุงุช
โ   โโโ ReportPdfService.php # ุฎุฏูุฉ ุงูุชูุงุฑูุฑ
โ   โโโ ExcelExportService.php # ุฎุฏูุฉ ุงูุชุตุฏูุฑ
โโโ Views/              # ูุงุฌูุงุช ุงููุณุชุฎุฏู
    โโโ dashboard/      # ููุญุฉ ุงูุชุญูู
    โโโ clients/       # ุฅุฏุงุฑุฉ ุงูุนููุงุก
    โโโ transactions/  # ุฅุฏุงุฑุฉ ุงููุนุงููุงุช
    โโโ cashbox/       # ุฅุฏุงุฑุฉ ุงูุฎุฒููุฉ
    โโโ reports/       # ุงูุชูุงุฑูุฑ
    โโโ layouts/       # ุงูุชุฎุทูุทุงุช ุงูุนุงูุฉ
```

### ูููู ุงููุดุฑูุน | Project Structure
```
โโโ config/              # ูููุงุช ุงูุฅุนุฏุงุฏ
โ   โโโ app.php         # ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
โ   โโโ database.php    # ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ routes.php      # ุฅุนุฏุงุฏุงุช ุงููุณุงุฑุงุช
โโโ migrations/          # ุชุฑุญูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ sql/           # ูููุงุช SQL ุงูุฃุณุงุณูุฉ
โ   โโโ *.sql          # ุชุญุฏูุซุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ public/              # ุงููุฌูุฏ ุงูุนุงู
โ   โโโ assets/        # ุงูููุงุฑุฏ (CSS, JS, Images)
โ   โโโ index.php      # ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ
โโโ storage/             # ูุฌูุฏ ุงูุชุฎุฒูู
โ   โโโ logs/          # ุณุฌูุงุช ุงููุธุงู
โ   โโโ exports/       # ุงููููุงุช ุงููุตุฏุฑุฉ
โ   โโโ backups/       # ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
โ   โโโ cache/         # ูููุงุช ุงูุชุฎุฒูู ุงููุคูุช
โโโ maintenance/         # ุฃุฏูุงุช ุงูุตูุงูุฉ
โ   โโโ backup.php     # ุงููุณุฎ ุงูุงุญุชูุงุทู
โ   โโโ test_system.php # ูุญุต ุงููุธุงู
โ   โโโ auto_backup.php # ุงููุณุฎ ุงูุชููุงุฆู
โโโ vendor/              # ููุชุจุงุช Composer
```

## ูุงุนุฏุฉ ุงูุจูุงูุงุช | Database Schema

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ | Main Tables

#### ุฌุฏูู ุงูุนููุงุก | Clients Table
```sql
clients (
    id, name, name_ar, client_code, phone, email, address,
    balance_rmb, balance_usd, balance_sdg, balance_aed,
    credit_limit, risk_level, status, created_at, updated_at
)
```

#### ุฌุฏูู ุงููุนุงููุงุช | Transactions Table
```sql
transactions (
    id, transaction_no, client_id, transaction_type_id,
    amount_rmb, amount_usd, amount_sdg, amount_aed,
    payment_rmb, payment_usd, payment_sdg, payment_aed,
    description, bank_name, loading_id, status,
    created_by, approved_by, transaction_date, created_at
)
```

#### ุฌุฏูู ุญุฑูุงุช ุงูุฎุฒููุฉ | Cashbox Movements Table
```sql
cashbox_movements (
    id, transaction_id, movement_type, category,
    amount_rmb, amount_usd, amount_sdg, amount_aed,
    description, movement_date, created_by, created_at
)
```

#### ุฌุฏูู ุงูุดุญูุงุช | Loadings Table
```sql
loadings (
    id, loading_no, client_id, container_no, seal_no,
    goods_description, quantity, weight, cbm,
    loading_date, eta_date, status, office,
    sync_status, sync_attempts, bol_issued
)
```

### ุงูููุงุฑุณ ูุงูุฃุฏุงุก | Indexes & Performance
- ููุงุฑุณ ูุญุณูุฉ ููุจุญุซ ุงูุณุฑูุน
- ููุงุฑุณ ูุฑูุจุฉ ููุงุณุชุนูุงูุงุช ุงููุนูุฏุฉ
- ุชุญุณูู ุงุณุชุนูุงูุงุช ุงูุชูุงุฑูุฑ
- ููุฑุณุฉ ุญููู ุงูุชุงุฑูุฎ ูุงูุญุงูุฉ

## ุงูุฃูุงู | Security Features

### ุงูุญูุงูุฉ ุงููุชูุฏูุฉ | Advanced Protection

#### ๐ ุงููุตุงุฏูุฉ ูุงูุชุฑุฎูุต | Authentication & Authorization
- ูุธุงู ุตูุงุญูุงุช ูุชุฏุฑุฌ (Admin, Manager, Accountant, User)
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจู bcrypt
- ุฌูุณุงุช ุขููุฉ ูุน ุงูุชูุงุก ุตูุงุญูุฉ
- ุชุชุจุน ูุญุงููุงุช ุชุณุฌูู ุงูุฏุฎูู ุงููุงุดูุฉ

#### ๐ก๏ธ ุญูุงูุฉ CSRF | CSRF Protection
- ุฑููุฒ CSRF ูุฌููุน ุงูููุงุฐุฌ
- ุชุญูู ุชููุงุฆู ูู ุงูุทูุจุงุช
- ุงูุชูุงุก ุตูุงุญูุฉ ุงูุฑููุฒ ุงููุคูุชุฉ

#### โก ุชุญุฏูุฏ ูุนุฏู ุงูุทูุจุงุช | Rate Limiting
- ุญูุงูุฉ ูู ุงููุฌูุงุช ุงูููุซูุฉ
- ุญุฏูุฏ ูุฎุชููุฉ ุญุณุจ ููุน ุงูุนูููุฉ
- ุญุธุฑ ูุคูุช ููุนูุงููู ุงููุดุจููุฉ

#### ๐ ุชูููุฉ ุงููุฏุฎูุงุช | Input Sanitization
- ููุชุฑุฉ ุฌููุน ุงููุฏุฎูุงุช
- ุญูุงูุฉ ูู ูุฌูุงุช SQL Injection
- ุชูุธูู ุงูุจูุงูุงุช ูุจู ุงูุนุฑุถ
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

#### ๐ ุณุฌู ุงูุชุฏููู | Audit Trail
- ุชุชุจุน ุฌููุน ุงูุนูููุงุช ุงููุงููุฉ
- ุณุฌู ุชูุตููู ููุดุงุท ุงููุณุชุฎุฏููู
- ุชุณุฌูู ุงูุชุบููุฑุงุช ุงูุญุณุงุณุฉ
- ุฅูุฐุงุฑุงุช ุงูุฃูุงู

### ุฃูุถู ุงูููุงุฑุณุงุช ุงูุฃูููุฉ | Security Best Practices

#### ูููุทูุฑูู | For Developers
- ุงุณุชุฎุฏุงู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุจูุงูุงุช ุงูุญุณุงุณุฉ
- ุชุดููุฑ ุฌููุน ุงูุงุชุตุงูุงุช (HTTPS)
- ุชุญุฏูุซ ุงูููุชุจุงุช ุจุงูุชุธุงู
- ูุฑุงุฌุนุฉ ุงูููุฏ ููุซุบุฑุงุช ุงูุฃูููุฉ

#### ูููุฏูุฑูู | For Administrators
- ุชุบููุฑ ูููุงุช ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ
- ูุฑุงุฌุนุฉ ุณุฌูุงุช ุงูุฃูุงู ุฏูุฑูุงู
- ุชูุนูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุชููุงุฆูุฉ
- ุชุญุฏูุซ ุงููุธุงู ุจุงูุชุธุงู

#### ูููุณุชุฎุฏููู | For Users
- ุงุณุชุฎุฏุงู ูููุงุช ูุฑูุฑ ูููุฉ
- ุชุณุฌูู ุงูุฎุฑูุฌ ุนูุฏ ุงูุชูุงุก ุงูุนูู
- ุนุฏู ูุดุงุฑูุฉ ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู
- ุงูุฅุจูุงุบ ุนู ุงููุดุงุท ุงููุดุจูู

## ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช | API Documentation

### ูุตุงุฏูุฉ API | API Authentication
```http
POST /api/auth
Content-Type: application/json

{
  "username": "your_username",
  "password": "your_password"
}
```

**ุงุณุชุฌุงุจุฉ ูุงุฌุญุฉ | Successful Response:**
```json
{
  "success": true,
  "token": "jwt_token_here",
  "user": {
    "id": 1,
    "username": "admin",
    "role": "admin"
  }
}
```

### ููุงุท ุงูููุงูุฉ ุงูุฑุฆูุณูุฉ | Main Endpoints

#### ๐ฅ ุฅุฏุงุฑุฉ ุงูุนููุงุก | Clients API
```http
GET /api/clients              # ูุงุฆูุฉ ุงูุนููุงุก
POST /api/clients            # ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ
PUT /api/clients/{id}        # ุชุญุฏูุซ ุนููู
DELETE /api/clients/{id}     # ุญุฐู ุนููู
GET /clients/statement/{id}   # ูุดู ุญุณุงุจ ุงูุนููู
```

#### ๐ฐ ุฅุฏุงุฑุฉ ุงููุนุงููุงุช | Transactions API
```http
GET /api/transactions              # ูุงุฆูุฉ ุงููุนุงููุงุช
POST /api/transactions            # ุฅูุดุงุก ูุนุงููุฉ ุฌุฏูุฏุฉ
GET /transactions/view/{id}        # ุชูุงุตูู ุงููุนุงููุฉ
POST /transactions/approve/{id}    # ุงูููุงููุฉ ุนูู ุงููุนุงููุฉ
POST /transactions/partial-payment/{id}  # ุฏูุนุฉ ุฌุฒุฆูุฉ
```

#### ๐ฆ ุฅุฏุงุฑุฉ ุงูุฎุฒููุฉ | Cashbox API
```http
GET /cashbox                      # ุญุงูุฉ ุงูุฎุฒููุฉ
POST /cashbox/movement           # ุญุฑูุฉ ุฎุฒููุฉ
GET /cashbox/history             # ุชุงุฑูุฎ ุงูุญุฑูุงุช
POST /cashbox/currency-conversion/execute  # ุชุญููู ุนููุฉ
```

#### ๐ ูุฒุงููุฉ ุงูุจูุงูุงุช | Sync API
```http
POST /api/sync/webhook           # ุงุณุชูุจุงู webhook
GET /api/sync/status/{id}        # ุญุงูุฉ ุงููุฒุงููุฉ
POST /api/sync/retry/{id}        # ุฅุนุงุฏุฉ ูุญุงููุฉ ุงููุฒุงููุฉ
POST /api/sync/all               # ูุฒุงููุฉ ุดุงููุฉ
```

### ูุนุงููุฑ API | API Standards

#### ุฑุคูุณ ุงูุทูุจุงุช | Request Headers
```http
Content-Type: application/json
Authorization: Bearer {jwt_token}
X-CSRF-Token: {csrf_token}
```

#### ุฃููุงุฏ ุงูุงุณุชุฌุงุจุฉ | Response Codes
- `200` - ูุฌุญุช ุงูุนูููุฉ
- `201` - ุชู ุงูุฅูุดุงุก ุจูุฌุงุญ
- `400` - ุฎุทุฃ ูู ุงูุจูุงูุงุช ุงููุฑุณูุฉ
- `401` - ุบูุฑ ูุฎูู
- `403` - ููููุน
- `404` - ุบูุฑ ููุฌูุฏ
- `429` - ุชุฌุงูุฒ ุงูุญุฏ ุงููุณููุญ
- `500` - ุฎุทุฃ ุฎุงุฏู

#### ุชุญุฏูุฏ ูุนุฏู ุงูุทูุจุงุช | Rate Limiting
- `/api/sync/*`: 30 ุทูุจ/ุฏูููุฉ
- `/api/auth`: 10 ุทูุจุงุช/ุฏูููุฉ
- `/api/*`: 60 ุทูุจ/ุฏูููุฉ

## ุงูุชุทููุฑ ูุงูุงุฎุชุจุงุฑ | Development & Testing

### ุจูุฆุฉ ุงูุชุทููุฑ | Development Environment

#### ุชุดุบูู ุงูุฎุงุฏู ุงููุญูู | Local Server
```bash
# ุชุดุบูู ุฎุงุฏู ุงูุชุทููุฑ
php -S localhost:8000 -t public

# ุฃู ุจุงุณุชุฎุฏุงู nginx/apache ูุน ุงูุชูููู ุงูููุงุณุจ
sudo systemctl start nginx
sudo systemctl start php8.3-fpm
```

#### ุชูููู ุจูุฆุฉ ุงูุชุทููุฑ | Development Configuration
```bash
# ุชูุนูู ูุถุน ุงูุชุทููุฑ
echo "APP_DEBUG=true" >> .env
echo "APP_ENV=development" >> .env

# ุชูุนูู ุณุฌูุงุช ููุตูุฉ
echo "LOG_LEVEL=debug" >> .env
```

### ุงูุงุฎุชุจุงุฑุงุช | Testing

#### ุงุฎุชุจุงุฑ ุงููุธุงู | System Testing
```bash
# ูุญุต ุญุงูุฉ ุงููุธุงู
php maintenance/test_system.php

# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
php maintenance/test_database.php

# ุงุฎุชุจุงุฑ ุงููุฒุงููุฉ
php maintenance/test_sync.php
```

#### ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก | Performance Testing
```bash
# ุงุฎุชุจุงุฑ ุณุฑุนุฉ ุงูุงุณุชุฌุงุจุฉ
curl -w "@curl-format.txt" -o /dev/null -s "http://localhost:8000"

# ุงุฎุชุจุงุฑ ุชุญููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql china_ababel < maintenance/performance_test.sql
```

### ุฃุฏูุงุช ุงูุชุทููุฑ | Development Tools

#### ุชุชุจุน ุงูุฃุฎุทุงุก | Error Tracking
```bash
# ูุฑุงูุจุฉ ุงูุณุฌูุงุช ูู ุงูููุช ุงููุนูู
tail -f logs/error.log

# ูุญุต ุงูุฃุฎุทุงุก ุงูุญุฑุฌุฉ
grep -i "critical\|fatal" logs/error.log
```

#### ุชุญุณูู ุงูุฃุฏุงุก | Performance Optimization
```bash
# ุชูุธูู ุงูุชุฎุฒูู ุงููุคูุช
php maintenance/clear_cache.php

# ุชุญุณูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
php maintenance/optimize_database.php

# ุถุบุท ุงูุฃุตูู
php maintenance/minify_assets.php
```

## ุงูุตูุงูุฉ ูุงููุฑุงูุจุฉ | Maintenance & Monitoring

### ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ | Backup System

#### ุงููุณุฎ ุงูุชููุงุฆูุฉ | Automated Backups
```bash
# ุฅุนุฏุงุฏ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุชููุงุฆูุฉ (crontab)
0 2 * * * /path/to/project/maintenance/auto_backup_cron.sh

# ูุญุต ุญุงูุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
php maintenance/backup_status.php
```

#### ุงููุณุฎ ุงููุฏููุฉ | Manual Backups
```bash
# ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ
php maintenance/backup.php

# ูุณุฎุฉ ุงุญุชูุงุทูุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช ููุท
php maintenance/backup_database.php

# ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูููููุงุช ููุท
php maintenance/backup_files.php
```

#### ุงุณุชุนุงุฏุฉ ุงููุณุฎ | Restore Backups
```bash
# ุงุณุชุนุงุฏุฉ ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ
php maintenance/restore.php --file=backup_2025-08-16.tar.gz

# ุงุณุชุนุงุฏุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุท
mysql china_ababel < storage/backups/db_backup_2025-08-16.sql
```

### ุตูุงูุฉ ุงููุธุงู | System Maintenance

#### ุชูุธูู ุงูุณุฌูุงุช | Log Cleanup
```bash
# ุชูุธูู ุงูุณุฌูุงุช ุงููุฏููุฉ
php maintenance/clean_logs.php

# ุฃุฑุดูุฉ ุงูุณุฌูุงุช
php maintenance/archive_logs.php

# ุฏูุฑุงู ุงูุณุฌูุงุช
./maintenance/log_rotation.sh
```

#### ุชุญุณูู ูุงุนุฏุฉ ุงูุจูุงูุงุช | Database Optimization
```bash
# ุชุญุณูู ุงูุฌุฏุงูู
php maintenance/optimize_tables.php

# ุฅุนุงุฏุฉ ุจูุงุก ุงูููุงุฑุณ
php maintenance/rebuild_indexes.php

# ุชูุธูู ุงูุจูุงูุงุช ุงููุคูุชุฉ
php maintenance/cleanup_temp_data.php
```

#### ูุฑุงูุจุฉ ุงูุฃุฏุงุก | Performance Monitoring
```bash
# ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
php maintenance/memory_monitor.php

# ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงููุฑุต
df -h | grep china_ababel

# ูุฑุงูุจุฉ ุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -e "SHOW PROCESSLIST;"
```

### ุณุฌูุงุช ุงููุธุงู | System Logs

#### ุฃููุงุน ุงูุณุฌูุงุช | Log Types
- `logs/error.log` - ุณุฌู ุงูุฃุฎุทุงุก ุงูุนุงู
- `logs/error_monitor.log` - ูุฑุงูุจ ุงูุฃุฎุทุงุก
- `logs/critical_alerts.log` - ุงูุชูุจููุงุช ุงูุญุฑุฌุฉ
- `logs/sync.log` - ุณุฌู ุงููุฒุงููุฉ
- `logs/audit.log` - ุณุฌู ุงูุชุฏููู

#### ูุฑุงูุจุฉ ุงูุณุฌูุงุช | Log Monitoring
```bash
# ูุฑุงูุจุฉ ุงูุฃุฎุทุงุก ุงูุญุฏูุซุฉ
tail -f logs/error.log

# ุงูุจุญุซ ุนู ุฃุฎุทุงุก ูุญุฏุฏุฉ
grep -i "database" logs/error.log

# ุฅุญุตุงุฆูุงุช ุงูุฃุฎุทุงุก
php maintenance/error_statistics.php
```

## ุงูุชุทููุฑ ูุงููุณุงููุฉ | Development & Contributing

### ูุนุงููุฑ ุงูููุฏ | Code Standards

#### PSR Standards
- **PSR-4**: ุงูุชุญููู ุงูุชููุงุฆู ููููุงุณุงุช
- **PSR-12**: ูุนุงููุฑ ูุชุงุจุฉ ุงูููุฏ
- **PSR-3**: ูุงุฌูุฉ ุงูุณุฌูุงุช

#### ูุนุงููุฑ ุงููุดุฑูุน | Project Standards
```php
<?php
// ูุซุงู ุนูู ุชูุณูู ุงูููุฏ ุงููุนุชูุฏ
namespace App\Controllers;

use App\Core\Controller;
use App\Models\Client;

class ClientController extends Controller
{
    /**
     * ุนุฑุถ ูุงุฆูุฉ ุงูุนููุงุก
     * Display clients list
     */
    public function index(): void
    {
        $clients = (new Client())->all();
        $this->view('clients/index', compact('clients'));
    }
}
```

### ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ | Adding New Features

#### ุณูุฑ ุงูุนูู | Workflow
1. **ุฅูุดุงุก ูุฑุน ุฌุฏูุฏ** ูู `main`
   ```bash
   git checkout -b feature/new-feature-name
   ```

2. **ุชุทููุฑ ุงูููุฒุฉ** ูุน ุงูุงุฎุชุจุงุฑุงุช
   ```bash
   # ุฅุถุงูุฉ ุงูููุฏ ุงูุฌุฏูุฏ
   # ูุชุงุจุฉ ุงูุงุฎุชุจุงุฑุงุช
   php maintenance/test_feature.php
   ```

3. **ุชุญุฏูุซ ุงููุซุงุฆู**
   ```bash
   # ุชุญุฏูุซ README.md
   # ุฅุถุงูุฉ ุชุนูููุงุช ููููุฏ
   # ุชุญุฏูุซ ูููุงุช ุงููุณุงุนุฏุฉ
   ```

4. **ุงุฎุชุจุงุฑ ุดุงูู**
   ```bash
   php maintenance/test_system.php
   php maintenance/test_security.php
   ```

5. **ุฅุฑุณุงู ุทูุจ ุฏูุฌ**
   ```bash
   git add .
   git commit -m "feat: Add new feature description"
   git push origin feature/new-feature-name
   ```

### ุฅุฑุดุงุฏุงุช ุงููุณุงููุฉ | Contribution Guidelines

#### ุฃููุงุน ุงููุณุงููุงุช | Types of Contributions
- ๐ **ุฅุตูุงุญ ุงูุฃุฎุทุงุก** (Bug Fixes)
- โจ **ููุฒุงุช ุฌุฏูุฏุฉ** (New Features)
- ๐ **ุชุญุณูู ุงููุซุงุฆู** (Documentation)
- โก **ุชุญุณูู ุงูุฃุฏุงุก** (Performance)
- ๐ **ุชุญุณููุงุช ุฃูููุฉ** (Security)

#### ูุนุงููุฑ ุงูููุฏ | Code Guidelines
- ุงุณุชุฎุฏุงู ุชุนูููุงุช ุจุงููุบุชูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- ุงุฎุชุจุงุฑ ุฌููุน ุงููุธุงุฆู ุงูุฌุฏูุฏุฉ
- ุงุชุจุงุน ูุนุงููุฑ ุงูุฃูุงู
- ุชูุซูู API ูููุธุงุฆู ุงูุฌุฏูุฏุฉ

#### ูุฑุงุฌุนุฉ ุงูููุฏ | Code Review
```bash
# ูุญุต ุงูููุฏ ูุจู ุงูุฅุฑุณุงู
php maintenance/code_review.php

# ูุญุต ุงูุฃูุงู
php maintenance/security_scan.php

# ูุญุต ุงูุฃุฏุงุก
php maintenance/performance_check.php
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก | Troubleshooting

### ูุดุงูู ุดุงุฆุนุฉ | Common Issues

#### ูุดุงูู ุงููุฒุงููุฉ | Sync Issues
```bash
# ูุญุต ุญุงูุฉ ุงููุฒุงููุฉ
tail -f logs/error.log | grep sync

# ุฅุนุงุฏุฉ ุชุดุบูู ุฎุฏูุฉ ุงููุฒุงููุฉ
php maintenance/restart_sync.php

# ูุญุต ุงูุงุชุตุงู ูุน ุจูุฑุชุณูุฏุงู
curl -I https://ababel.net/app/api/china_sync.php
```

#### ูุดุงูู ุงูุฃุฏุงุก | Performance Issues
```bash
# ุชูุธูู ุงูุชุฎุฒูู ุงููุคูุช
rm -rf cache/*
php maintenance/clear_cache.php

# ุชุญุณูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql china_ababel < migrations/optimize_database_indexes.sql

# ูุญุต ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
php maintenance/memory_usage.php
```

#### ูุดุงูู ุงูุตูุงุญูุงุช | Permission Issues
```bash
# ุฅุนุงุฏุฉ ุชุนููู ุงูุตูุงุญูุงุช
chmod -R 755 storage/ cache/ logs/
chown -R www-data:www-data storage/ cache/ logs/

# ูุญุต ุตูุงุญูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -u root -p -e "SHOW GRANTS FOR 'china_ababel'@'localhost';"
```

#### ูุดุงูู ุชุณุฌูู ุงูุฏุฎูู | Login Issues
```bash
# ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ูุฑูุฑ ุงููุฏูุฑ
php maintenance/reset_admin_password.php

# ูุญุต ุฌูุณุงุช ุงููุณุชุฎุฏููู
php maintenance/check_sessions.php

# ุชูุธูู ุงูุฌูุณุงุช ุงูููุชููุฉ
php maintenance/cleanup_sessions.php
```

### ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุดุงุฆุนุฉ | Common Error Messages

| ุงูุฎุทุฃ | ุงูุณุจุจ | ุงูุญู |
|-------|-------|------|
| "Database connection failed" | ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช | ูุญุต ุฅุนุฏุงุฏุงุช .env |
| "CSRF token mismatch" | ุงูุชูุงุก ุตูุงุญูุฉ ุงูุฑูุฒ | ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ |
| "Permission denied" | ุตูุงุญูุงุช ุฎุงุทุฆุฉ | ูุญุต ุตูุงุญูุงุช ุงููููุงุช |
| "Sync failed" | ูุดููุฉ ูู ุงููุฒุงููุฉ | ูุญุต ุงูุงุชุตุงู ูุงูAPI |

## ุงูุฏุนู ูุงูุตูุงูุฉ | Support & Maintenance

### ูุนูููุงุช ุงูุงุชุตุงู | Contact Information
- **ุงููุทูุฑ**: ูุฑูู ุฃุจุงุจูู ุงูุชููู
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: support@ababel.net
- **ุงููููุน ุงูุฑุณูู**: https://ababel.net
- **ุงููุธุงู ุงูุฑุฆูุณู**: https://ababel.net

### ุณุงุนุงุช ุงูุฏุนู | Support Hours
- **ุฏุนู ููู ุนุงุฌู**: 24/7
- **ุฏุนู ุนุงู**: ุงูุฃุญุฏ - ุงูุฎููุณุ 8:00 ุต - 5:00 ู
- **ุตูุงูุฉ ูุฌุฏููุฉ**: ุงูุฌูุนุฉุ 2:00 ุต - 6:00 ุต

### ุชุญุฏูุซุงุช ุงููุธุงู | System Updates

#### ุฌุฏููุฉ ุงูุชุญุฏูุซุงุช | Update Schedule
- **ุชุญุฏูุซุงุช ุฃูููุฉ**: ููุฑูุฉ ุนูุฏ ุงูุญุงุฌุฉ
- **ุชุญุฏูุซุงุช ุงูููุฒุงุช**: ุดูุฑูุงู
- **ุชุญุฏูุซุงุช ุงูุตูุงูุฉ**: ุฃุณุจูุนูุงู

#### ุฅุดุนุงุฑุงุช ุงูุชุญุฏูุซ | Update Notifications
```bash
# ูุญุต ุงูุชุญุฏูุซุงุช ุงููุชุงุญุฉ
php maintenance/check_updates.php

# ุชุทุจูู ุงูุชุญุฏูุซุงุช
php maintenance/apply_updates.php
```

### ุฎุทุฉ ุงูุทูุงุฑุฆ | Emergency Plan

#### ูู ุญุงูุฉ ุงูุฃุนุทุงู ุงูุญุฑุฌุฉ | Critical Failures
1. **ุชูุนูู ูุถุน ุงูุตูุงูุฉ**
   ```bash
   touch maintenance.flag
   ```

2. **ุงุณุชุนุงุฏุฉ ุขุฎุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ**
   ```bash
   php maintenance/emergency_restore.php
   ```

3. **ุฅุดุนุงุฑ ุงููุณุชุฎุฏููู**
   ```bash
   php maintenance/notify_users.php "ุงููุธุงู ุชุญุช ุงูุตูุงูุฉ"
   ```

4. **ุชุทุจูู ุงูุฅุตูุงุญุงุช ุงูุนุงุฌูุฉ**
   ```bash
   php maintenance/emergency_fix.php
   ```

---

## ุงูุชุฑุฎูุต | License

ูุฐุง ุงููุธุงู ูุทูุฑ ุฎุตูุตุงู ูุดุฑูุฉ ุฃุจุงุจูู ููุฑูุนูุง. ุฌููุน ุงูุญููู ูุญููุธุฉ.

This system is developed specifically for Ababel Company and its branches. All rights reserved.

**ยฉ 2025 ุดุฑูุฉ ุฃุจุงุจูู - Ababel Company**

---

**ุขุฎุฑ ุชุญุฏูุซ**: ุฃุบุณุทุณ 2025  
**ุฅุตุฏุงุฑ ุงููุธุงู**: 2.1.0  
**ุญุงูุฉ ุงููุธุงู**: ุฅูุชุงุฌ ูุณุชูุฑ  
**ุงูุจูุฆุฉ**: ููุชุจ ุงูุตูู - ุงูุตูู